"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[3204],{253:(L,T,i)=>{i.d(T,{u:()=>M});var t=i(4769),A=i(9862),v=i(5219),a=i(8814),Z=i(981),n=i(6814),s=i(9552),e=i(707),_=i(9920),x=i(7680);function U(g,y){1&g&&(t.TgZ(0,"tr",32)(1,"td",33)(2,"strong"),t._uU(3,"ITEMS"),t.qZA()(),t.TgZ(4,"td",33)(5,"strong"),t._uU(6,"Serial No."),t.qZA()(),t.TgZ(7,"td",34)(8,"strong"),t._uU(9,"QTY."),t.qZA()(),t.TgZ(10,"td",34)(11,"strong"),t._uU(12,"Warranty upto"),t.qZA()(),t.TgZ(13,"td",35)(14,"strong"),t._uU(15,"Price"),t.qZA()()())}function D(g,y){if(1&g&&(t.TgZ(0,"tr")(1,"td",36),t._uU(2),t.qZA(),t.TgZ(3,"td",36),t._uU(4),t.qZA(),t.TgZ(5,"td",34),t._uU(6),t.qZA(),t.TgZ(7,"td",34),t._uU(8),t.qZA(),t.TgZ(9,"td",37),t._uU(10),t.ALo(11,"currency"),t.qZA()()),2&g){const u=y.$implicit;t.xp6(2),t.AsE("",u.product_name,"- ",u.model_name,""),t.xp6(2),t.hij("",u.serial_numbers," "),t.xp6(2),t.hij("",u.quantity,"PCS"),t.xp6(2),t.Oqu(u.sels_warranty),t.xp6(2),t.Oqu(t.xi3(11,6,u.sales_rate,"INR"))}}function C(g,y){if(1&g&&(t.TgZ(0,"tr",38)(1,"td",39),t._uU(2,"SUBTOTAL"),t.qZA(),t.TgZ(3,"td",34),t._uU(4),t.qZA(),t.TgZ(5,"td",40),t._uU(6),t.ALo(7,"currency"),t.qZA()()),2&g){const u=t.oxw();t.xp6(4),t.hij("",u.totQTY,"PCS"),t.xp6(2),t.Oqu(t.xi3(7,2,u.tot_price,"INR"))}}function P(g,y){1&g&&(t.TgZ(0,"div",41),t._UZ(1,"p-progressSpinner"),t.qZA())}let M=(()=>{var g;class y{constructor(f,m,O,E,S){this.http=f,this.messageService=m,this.confirmationService=O,this.api=E,this.bill=S,this.ListData=[],this.FinalData=[],this.spinner=!1,this.tot_price=0,this.Due=!1,this.QTY=0,this.totQTY=0,this.id=this.bill.billing_id}ngOnInit(){this.getBill(this.id)}getBill(f){}setWIM(f,m){}ngAfterViewInit(){}callPrint(f){}generateBarcode(){}}return(g=y).\u0275fac=function(f){return new(f||g)(t.Y36(A.eN),t.Y36(v.ez),t.Y36(v.YP),t.Y36(a.s),t.Y36(Z.M))},g.\u0275cmp=t.Xpm({type:g,selectors:[["ng-component"]],decls:92,vars:12,consts:[[1,"grid"],[1,"col-12"],["id","bill",1,"card"],[1,"container"],[1,"row"],[1,"col-xs-12"],[1,"container2"],[1,"image"],["src","./assets/demo/images/billing/comp_logo.jpg",1,"paid"],[1,"text"],[2,"margin-left","4%"],[2,"width","20px !important"],["barcodeSVG",""],[1,"text-right",2,"background-color","beige","width","100%","border-top","5px solid burlywood","padding-right","5px"],[1,"row",2,"margin-left","4%"],[1,"col-xs-6"],[1,"field","col-12","md:col-12"],[1,"panel","panel-default"],[1,"panel-heading"],[1,"card","flex","justify-content-center"],[3,"value"],["dt2",""],["pTemplate","header"],["hdd",""],["pTemplate","body"],["pTemplate","footer"],[1,"col-xs-6","text-right",2,"font-size","larger"],[1,"col-xs-6","text-left"],[1,"flex","justify-content-center"],[1,"field","col-12","md:col-2"],["pButton","","pRipple","","printSectionId","bill","ngxPrint","","label","Print","icon","pi pi-print",1,"p-button-primary",3,"useExistingCss"],["class","spinner_overlay",4,"ngIf"],[2,"background-color","rgb(225, 203, 174)"],[1,"text-left",2,"padding-left","2%"],[1,"text-center"],[1,"text-right",2,"padding-right","2%"],[1,"text-left"],[1,"text-right"],[2,"border-top","3px solid #ce7843  important","border-bottom","3px solid #ce7843"],["colspan","2",1,"text-left"],["colspan","2",1,"text-right"],[1,"spinner_overlay"]],template:function(f,m){1&f&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),t._UZ(8,"img",8),t.qZA(),t.TgZ(9,"div",9)(10,"h4",10),t._uU(11,"Shridharpur, West Bengal 721632,"),t._UZ(12,"br"),t._uU(13," India,West Bengal,"),t._UZ(14,"br"),t._uU(15," Mobile: 8535999129"),t.qZA()(),t.TgZ(16,"div",11),t.O4$(),t._UZ(17,"svg",null,12),t.qZA()(),t.kcU(),t.TgZ(19,"div",13)(20,"span")(21,"strong"),t._uU(22,"Invoice Id:"),t.qZA(),t._uU(23),t._UZ(24,"br"),t.qZA(),t.TgZ(25,"span")(26,"strong"),t._uU(27,"Invoice Date:"),t.qZA(),t._uU(28),t.qZA()(),t.TgZ(29,"div",14)(30,"div",15)(31,"address")(32,"strong"),t._uU(33,"Billed To:"),t.qZA(),t._UZ(34,"br"),t.TgZ(35,"strong"),t._uU(36,"Customer Name: "),t.qZA(),t._uU(37),t._UZ(38,"br"),t.TgZ(39,"strong"),t._uU(40,"Mobile Number: "),t.qZA(),t._uU(41),t._UZ(42,"br"),t.TgZ(43,"strong"),t._uU(44,"Address: "),t.qZA(),t._uU(45),t._UZ(46,"br"),t.qZA()()()()(),t.TgZ(47,"div",4)(48,"div",16)(49,"div",17)(50,"div",18)(51,"h3",19)(52,"strong"),t._uU(53,"Purchase summary"),t.qZA()()(),t.TgZ(54,"p-table",20,21),t.YNc(56,U,16,0,"ng-template",22,23,t.W1O),t.YNc(58,D,12,9,"ng-template",24),t.YNc(59,C,8,5,"ng-template",25),t.qZA(),t.TgZ(60,"div",4)(61,"div",26),t._UZ(62,"br"),t.TgZ(63,"strong"),t._uU(64,"TOTAL:"),t.qZA(),t.TgZ(65,"b"),t._uU(66),t.ALo(67,"currency"),t.qZA(),t._UZ(68,"br")(69,"br"),t.qZA(),t.TgZ(70,"div",27),t._UZ(71,"br"),t.TgZ(72,"strong"),t._uU(73,"TERMS AND CONDITIONS"),t.qZA(),t._UZ(74,"br"),t.TgZ(75,"p"),t._uU(76," 1. Goods once sold will not be taken back or exchanged"),t._UZ(77,"br"),t._uU(78," 2. Warranty is not liable if the goods are Burnt,"),t._UZ(79,"br"),t._uU(80," Broken, Lequid Damage or missing warranty"),t._UZ(81,"br"),t._uU(82," sticker."),t._UZ(83,"br"),t._uU(84,' 3. Subject to "West Bengal" jurisdiction only.'),t.qZA()(),t.TgZ(85,"div",26)(86,"strong"),t._uU(87,"Authorised Signatory"),t.qZA()()()()()()()(),t.TgZ(88,"div",28)(89,"div",29),t._UZ(90,"button",30),t.qZA()()()(),t.YNc(91,P,2,0,"div",31)),2&f&&(t.xp6(23),t.hij("\xa0\xa0 ",m.ListData[0].billing_id,""),t.xp6(5),t.hij(" ",m.ListData[0].billingdate," "),t.xp6(9),t.Oqu(m.CustomerDtls.name),t.xp6(4),t.Oqu(m.CustomerDtls.mobile_no),t.xp6(4),t.Oqu(m.CustomerDtls.adress),t.xp6(9),t.Q6J("value",m.FinalData),t.xp6(12),t.Oqu(t.xi3(67,9,m.tot_price,"INR")),t.xp6(24),t.Q6J("useExistingCss",!0),t.xp6(1),t.Q6J("ngIf",m.spinner))},dependencies:[n.O5,s.iA,v.jx,e.Hq,_.I,x.G,n.H9],styles:[".invoice-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoice-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:inline-block}.table1[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-top:none}.table1[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-bottom:none}.table1[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .thick-line[_ngcontent-%COMP%]{border-top:2px solid}.table1[_ngcontent-%COMP%]{width:100%}.paid[_ngcontent-%COMP%]{left:31%;height:120px}.container2[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.text[_ngcontent-%COMP%]{font-size:20px;padding-left:20px}#bill.container[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%}"]}),y})()},3204:(L,T,i)=>{i.r(T),i.d(T,{ListDemoModule:()=>F});var t=i(6814),A=i(95),v=i(3557),a=i(9862),Z=i(5118),n=i(5219),s=i(253),e=i(4769),_=i(8814),x=i(981),U=i(4104),D=i(2947),C=i(9552),P=i(3714),M=i(707),g=i(7680);const y=["view"];function u(r,h){if(1&r){const p=e.EpF();e.TgZ(0,"div",10)(1,"span",11),e._UZ(2,"i",12),e.TgZ(3,"input",13),e.NdJ("keyup",function(l){e.CHM(p);const c=e.oxw();return e.KtG(c.searchAll(l))}),e.qZA()()()}2&r&&(e.xp6(3),e.Q6J("autofocus",!0))}function f(r,h){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Bill No"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Customer Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Mobile No"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Billing Date"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Total price"),e.qZA(),e.TgZ(11,"th",14),e._uU(12,"View Bill"),e.qZA(),e.TgZ(13,"th",14),e._uU(14,"Edit Bill"),e.qZA()())}function m(r,h){if(1&r){const p=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"currency"),e.qZA(),e.TgZ(12,"td",15)(13,"button",16),e.NdJ("click",function(){const c=e.CHM(p).$implicit,d=e.oxw();return e.KtG(d.show(c))}),e.qZA()(),e.TgZ(14,"td",15)(15,"button",17),e.NdJ("click",function(){const c=e.CHM(p).$implicit,d=e.oxw();return e.KtG(d.editBill(c))}),e.qZA()()()}if(2&r){const p=h.$implicit;e.xp6(2),e.Oqu(p.billing_id),e.xp6(2),e.Oqu(p.name),e.xp6(2),e.Oqu(p.mobile_no),e.xp6(2),e.Oqu(p.billingdate),e.xp6(2),e.Oqu(e.xi3(11,5,p.total_price,"INR"))}}function O(r,h){1&r&&(e.TgZ(0,"div",18),e._UZ(1,"p-progressSpinner"),e.qZA())}const E=function(){return{"min-width":"50rem"}};let S=(()=>{var r;class h{constructor(o,l,c,d,b,Y,R){this.api=o,this.productService=l,this.router=c,this.http=d,this.billID=b,this.dialogService=Y,this.messageService=R,this.modelList=[],this.lastAddedIndex=-1,this.stockList=[],this.spinner=!1,this.first=0,this.rows=2}ngOnInit(){this.getAllBill()}onPageChange(o){this.first=o.first,this.rows=o.rows,this.goingPage=o.page+1,this.loadNewPage(this.goingPage)}loadNewPage(o){this.spinner=!0;const l=this.api.baseUrl,c=localStorage.getItem("token"),d=(new a.WM).set("Authorization",`Bearer ${c}`);this.http.get(l+"/report/my_bill?page="+o,{headers:d}).subscribe(b=>{this.spinner=!1,this.stockApi=b,this.stockList=this.stockApi.data})}getAllBill(){this.totalPGNO=0,this.spinner=!0;const o=this.api.baseUrl,l=localStorage.getItem("token"),c=(new a.WM).set("Authorization",`Bearer ${l}`);this.http.get(o+"/report/my_bill",{headers:c}).subscribe(d=>{this.spinner=!1,console.log(d),this.stockApi=d,this.stockList=this.stockApi.data,this.totalPGNO=this.stockApi.total},d=>{this.spinner=!1,console.error(d)})}searchAll(o){this.spinner=!0;const l=this.api.baseUrl,c=localStorage.getItem("token"),d=(new a.WM).set("Authorization",`Bearer ${c}`);this.http.get(l+"/report/my_bill?page=1&search="+o.target.value.toString(),{headers:d}).subscribe(b=>{this.spinner=!1,this.stockApi=b,this.stockList=this.stockApi.data,this.totalPGNO=this.stockApi.total})}editBill(o){this.billID.billing_id=0,this.billID.billing_id=o.billing_id,this.router.navigate(["app/pages/edit_bill"])}show(o){this.billID.billing_id=0,this.billID.billing_id=o.billing_id,this.ref=this.dialogService.open(s.u,{header:"Full Billing Details",data:{id:o.billing_id},width:"70%",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!0}),this.ref.onClose.subscribe(l=>{l&&this.messageService.add({severity:"info",summary:"Product Selected",detail:l.name})}),this.ref.onMaximize.subscribe(l=>{this.messageService.add({severity:"info",summary:"Maximized",detail:`maximized: ${l.maximized}`})})}ngOnDestroy(){this.ref&&this.ref.close()}}return(r=h).\u0275fac=function(o){return new(o||r)(e.Y36(_.s),e.Y36(x.M),e.Y36(v.F0),e.Y36(a.eN),e.Y36(x.M),e.Y36(Z.xA),e.Y36(n.ez))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],viewQuery:function(o,l){if(1&o&&e.Gf(y,7),2&o){let c;e.iGM(c=e.CRH())&&(l.view=c.first)}},features:[e._Bn([Z.xA,n.ez])],decls:11,vars:7,consts:[[1,"grid"],[1,"col-12",2,"max-height","600px","overflow","scroll"],[3,"value","tableStyle"],["dt2",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"card","flex","justify-content-center"],[3,"first","rows","totalRecords","onPageChange"],["class","spinner_overlay",4,"ngIf"],[1,"flex"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","pAutoFocus","","type","text","placeholder","Search keyword",3,"autofocus","keyup"],[2,"width","7rem"],[2,"text-align","center"],["type","button","pButton","","pRipple","","icon","pi pi-eye",3,"click"],["type","button","pButton","","pRipple","","icon","pi pi-pencil",3,"click"],[1,"spinner_overlay"]],template:function(o,l){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.TgZ(2,"div",1)(3,"p-table",2,3),e.YNc(5,u,4,1,"ng-template",4),e.YNc(6,f,15,0,"ng-template",5),e.YNc(7,m,16,8,"ng-template",6),e.qZA(),e.TgZ(8,"div",7)(9,"p-paginator",8),e.NdJ("onPageChange",function(d){return l.onPageChange(d)}),e.qZA()()(),e.YNc(10,O,2,0,"div",9),e.qZA()),2&o&&(e.xp6(3),e.Q6J("value",l.stockList)("tableStyle",e.DdM(6,E)),e.xp6(6),e.Q6J("first",l.first)("rows",l.rows)("totalRecords",l.totalPGNO),e.xp6(1),e.Q6J("ngIf",l.spinner))},dependencies:[U.FN,n.jx,D.D,C.iA,t.O5,P.o,M.Hq,g.G,t.H9],encapsulation:2}),h})(),B=(()=>{var r;class h{}return(r=h).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[v.Bz.forChild([{path:"",component:S}]),v.Bz]}),h})();var I=i(4037),N=i(8052),q=i(1825),w=i(3965),k=i(6022);let F=(()=>{var r;class h{}return(r=h).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[n.ez,n.YP],imports:[U.EV,D.U,C.U$,t.ez,A.u5,B,I.FI,N.f,q.C,P.j,w.kW,k.Xt,M.hJ,g.L,Z.DL]}),h})()},9920:(L,T,i)=>{i.d(T,{I:()=>A,K:()=>v});var t=i(4769);let A=(()=>{class a{constructor(){this._printStyle=[],this.previewOnly=!1,this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(n){for(let s in n)n.hasOwnProperty(s)&&this._printStyle.push((s+JSON.stringify(n[s])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(n){let s=function(e){return`<link rel="stylesheet" type="text/css" href="${e}">`};if(-1!==n.indexOf(",")){const e=n.split(",");for(let _ of e)this._styleSheetFile=this._styleSheetFile+s(_)}else this._styleSheetFile=s(n)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(n){const s=[],e=document.getElementsByTagName(n);for(let _=0;_<e.length;_++)s.push(e[_].outerHTML);return s.join("\r\n")}getFormData(n){for(var s=0;s<n.length;s++)n[s].defaultValue=n[s].value,n[s].checked&&(n[s].defaultChecked=!0)}getHtmlContents(){let n=document.getElementById(this.printSectionId),s=n.getElementsByTagName("input");this.getFormData(s);let e=n.getElementsByTagName("textarea");return this.getFormData(e),n.innerHTML}print(){let n,s,e="",_="";const x=this.getElementTag("base");this.useExistingCss&&(e=this.getElementTag("style"),_=this.getElementTag("link")),n=this.getHtmlContents(),s=window.open("","_blank","top=0,left=0,height=auto,width=auto"),s.document.open(),s.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${x}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${e}\n          ${_}\n        </head>\n        <body>\n          ${n}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              ${this.previewOnly?"":`setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});`}\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),s.document.close()}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275dir=t.lG2({type:a,selectors:[["button","ngxPrint",""]],hostBindings:function(n,s){1&n&&t.NdJ("click",function(){return s.print()})},inputs:{previewOnly:"previewOnly",printSectionId:"printSectionId",printTitle:"printTitle",useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile"}}),a})(),v=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({}),a})()}}]);